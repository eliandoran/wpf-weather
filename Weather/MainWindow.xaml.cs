using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Data;
using System.Windows.Documents;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Imaging;
using System.Windows.Navigation;
using System.Windows.Shapes;
using Weather.Core;
using Weather.Providers;

namespace Weather
{
    /// <summary>
    /// Interaction logic for MainWindow.xaml
    /// </summary>
    public partial class MainWindow : Window
    {
        private readonly string weatherJsonString = "{\"coord\":{\"lon\":24.16,\"lat\":45.79},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"base\":\"stations\",\"main\":{\"temp\":294.21,\"pressure\":1012,\"humidity\":60,\"temp_min\":294.15,\"temp_max\":294.26},\"visibility\":10000,\"wind\":{\"speed\":3.6,\"deg\":110},\"clouds\":{\"all\":20},\"dt\":1559663577,\"sys\":{\"type\":1,\"id\":6920,\"message\":0.0055,\"country\":\"RO\",\"sunrise\":1559615749,\"sunset\":1559671663},\"timezone\":10800,\"id\":667268,\"name\":\"Sibiu\",\"cod\":200}";
        private readonly string forecastJsonString = "{\"cod\":\"200\",\"message\":0.0051,\"cnt\":40,\"list\":[{\"dt\":1559692800,\"main\":{\"temp\":286.26,\"temp_min\":284.7,\"temp_max\":286.26,\"pressure\":1013.38,\"sea_level\":1013.38,\"grnd_level\":967.42,\"humidity\":90,\"temp_kf\":1.56},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":51},\"wind\":{\"speed\":0.88,\"deg\":168.155},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2019-06-05 00:00:00\"},{\"dt\":1559703600,\"main\":{\"temp\":285.19,\"temp_min\":284.019,\"temp_max\":285.19,\"pressure\":1013.53,\"sea_level\":1013.53,\"grnd_level\":967.57,\"humidity\":90,\"temp_kf\":1.17},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":0},\"wind\":{\"speed\":0.63,\"deg\":156.61},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-05 03:00:00\"},{\"dt\":1559714400,\"main\":{\"temp\":290.69,\"temp_min\":289.907,\"temp_max\":290.69,\"pressure\":1013.51,\"sea_level\":1013.51,\"grnd_level\":967.88,\"humidity\":74,\"temp_kf\":0.78},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":2},\"wind\":{\"speed\":0.98,\"deg\":71.381},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-05 06:00:00\"},{\"dt\":1559725200,\"main\":{\"temp\":295.33,\"temp_min\":294.939,\"temp_max\":295.33,\"pressure\":1013.05,\"sea_level\":1013.05,\"grnd_level\":967.28,\"humidity\":52,\"temp_kf\":0.39},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":6},\"wind\":{\"speed\":1.53,\"deg\":101.325},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-05 09:00:00\"},{\"dt\":1559736000,\"main\":{\"temp\":296.8,\"temp_min\":296.8,\"temp_max\":296.8,\"pressure\":1012.26,\"sea_level\":1012.26,\"grnd_level\":966.2,\"humidity\":44,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03d\"}],\"clouds\":{\"all\":28},\"wind\":{\"speed\":2.39,\"deg\":120.799},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-05 12:00:00\"},{\"dt\":1559746800,\"main\":{\"temp\":296.739,\"temp_min\":296.739,\"temp_max\":296.739,\"pressure\":1011.51,\"sea_level\":1011.51,\"grnd_level\":965.13,\"humidity\":47,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03d\"}],\"clouds\":{\"all\":41},\"wind\":{\"speed\":2.58,\"deg\":161.066},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-05 15:00:00\"},{\"dt\":1559757600,\"main\":{\"temp\":290.188,\"temp_min\":290.188,\"temp_max\":290.188,\"pressure\":1012.14,\"sea_level\":1012.14,\"grnd_level\":965.71,\"humidity\":68,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"clouds\":{\"all\":21},\"wind\":{\"speed\":2.8,\"deg\":172.674},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-05 18:00:00\"},{\"dt\":1559768400,\"main\":{\"temp\":286.351,\"temp_min\":286.351,\"temp_max\":286.351,\"pressure\":1013.29,\"sea_level\":1013.29,\"grnd_level\":966.98,\"humidity\":79,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03n\"}],\"clouds\":{\"all\":32},\"wind\":{\"speed\":2.08,\"deg\":172.711},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2019-06-05 21:00:00\"},{\"dt\":1559779200,\"main\":{\"temp\":285,\"temp_min\":285,\"temp_max\":285,\"pressure\":1013.44,\"sea_level\":1013.44,\"grnd_level\":967.39,\"humidity\":84,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03n\"}],\"clouds\":{\"all\":47},\"wind\":{\"speed\":1.53,\"deg\":162.61},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2019-06-06 00:00:00\"},{\"dt\":1559790000,\"main\":{\"temp\":284.6,\"temp_min\":284.6,\"temp_max\":284.6,\"pressure\":1013.05,\"sea_level\":1013.05,\"grnd_level\":967.22,\"humidity\":86,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":75},\"wind\":{\"speed\":0.75,\"deg\":159.88},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-06 03:00:00\"},{\"dt\":1559800800,\"main\":{\"temp\":291.4,\"temp_min\":291.4,\"temp_max\":291.4,\"pressure\":1013.75,\"sea_level\":1013.75,\"grnd_level\":968.18,\"humidity\":66,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":74},\"wind\":{\"speed\":1.34,\"deg\":68.493},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-06 06:00:00\"},{\"dt\":1559811600,\"main\":{\"temp\":297.2,\"temp_min\":297.2,\"temp_max\":297.2,\"pressure\":1014.02,\"sea_level\":1014.02,\"grnd_level\":968.19,\"humidity\":52,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"clouds\":{\"all\":17},\"wind\":{\"speed\":0.82,\"deg\":37.747},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-06 09:00:00\"},{\"dt\":1559822400,\"main\":{\"temp\":298.9,\"temp_min\":298.9,\"temp_max\":298.9,\"pressure\":1013.81,\"sea_level\":1013.81,\"grnd_level\":967.8,\"humidity\":44,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":56},\"wind\":{\"speed\":1.48,\"deg\":193.848},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-06 12:00:00\"},{\"dt\":1559833200,\"main\":{\"temp\":297.7,\"temp_min\":297.7,\"temp_max\":297.7,\"pressure\":1013.63,\"sea_level\":1013.63,\"grnd_level\":967.89,\"humidity\":54,\"temp_kf\":0},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":98},\"wind\":{\"speed\":3.58,\"deg\":258.147},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-06 15:00:00\"},{\"dt\":1559844000,\"main\":{\"temp\":291.683,\"temp_min\":291.683,\"temp_max\":291.683,\"pressure\":1014.81,\"sea_level\":1014.81,\"grnd_level\":969.39,\"humidity\":77,\"temp_kf\":0},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":99},\"wind\":{\"speed\":1.79,\"deg\":256.95},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-06 18:00:00\"},{\"dt\":1559854800,\"main\":{\"temp\":289.1,\"temp_min\":289.1,\"temp_max\":289.1,\"pressure\":1015.97,\"sea_level\":1015.97,\"grnd_level\":970.49,\"humidity\":83,\"temp_kf\":0},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":100},\"wind\":{\"speed\":2.82,\"deg\":211.256},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2019-06-06 21:00:00\"},{\"dt\":1559865600,\"main\":{\"temp\":288.2,\"temp_min\":288.2,\"temp_max\":288.2,\"pressure\":1016.77,\"sea_level\":1016.77,\"grnd_level\":971.17,\"humidity\":82,\"temp_kf\":0},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":95},\"wind\":{\"speed\":2.31,\"deg\":204.865},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2019-06-07 00:00:00\"},{\"dt\":1559876400,\"main\":{\"temp\":289,\"temp_min\":289,\"temp_max\":289,\"pressure\":1017.46,\"sea_level\":1017.46,\"grnd_level\":971.96,\"humidity\":76,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":82},\"wind\":{\"speed\":2.32,\"deg\":212.249},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-07 03:00:00\"},{\"dt\":1559887200,\"main\":{\"temp\":294.1,\"temp_min\":294.1,\"temp_max\":294.1,\"pressure\":1017.95,\"sea_level\":1017.95,\"grnd_level\":972.69,\"humidity\":66,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":62},\"wind\":{\"speed\":2.51,\"deg\":245.25},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-07 06:00:00\"},{\"dt\":1559898000,\"main\":{\"temp\":298.8,\"temp_min\":298.8,\"temp_max\":298.8,\"pressure\":1018.21,\"sea_level\":1018.21,\"grnd_level\":972.9,\"humidity\":51,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":9},\"wind\":{\"speed\":1.55,\"deg\":242.639},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-07 09:00:00\"},{\"dt\":1559908800,\"main\":{\"temp\":300.51,\"temp_min\":300.51,\"temp_max\":300.51,\"pressure\":1018,\"sea_level\":1018,\"grnd_level\":972.45,\"humidity\":43,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":5},\"wind\":{\"speed\":2.41,\"deg\":264.368},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-07 12:00:00\"},{\"dt\":1559919600,\"main\":{\"temp\":299.3,\"temp_min\":299.3,\"temp_max\":299.3,\"pressure\":1018.05,\"sea_level\":1018.05,\"grnd_level\":972.62,\"humidity\":52,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03d\"}],\"clouds\":{\"all\":44},\"wind\":{\"speed\":4.46,\"deg\":267.3},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-07 15:00:00\"},{\"dt\":1559930400,\"main\":{\"temp\":293.3,\"temp_min\":293.3,\"temp_max\":293.3,\"pressure\":1018.62,\"sea_level\":1018.62,\"grnd_level\":973.19,\"humidity\":73,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":66},\"wind\":{\"speed\":3.15,\"deg\":237.769},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-07 18:00:00\"},{\"dt\":1559941200,\"main\":{\"temp\":290.101,\"temp_min\":290.101,\"temp_max\":290.101,\"pressure\":1019.6,\"sea_level\":1019.6,\"grnd_level\":974.1,\"humidity\":81,\"temp_kf\":0},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":91},\"wind\":{\"speed\":2.65,\"deg\":217.524},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2019-06-07 21:00:00\"},{\"dt\":1559952000,\"main\":{\"temp\":288.802,\"temp_min\":288.802,\"temp_max\":288.802,\"pressure\":1019.74,\"sea_level\":1019.74,\"grnd_level\":974.32,\"humidity\":84,\"temp_kf\":0},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":89},\"wind\":{\"speed\":2.33,\"deg\":217.032},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2019-06-08 00:00:00\"},{\"dt\":1559962800,\"main\":{\"temp\":288.1,\"temp_min\":288.1,\"temp_max\":288.1,\"pressure\":1019.79,\"sea_level\":1019.79,\"grnd_level\":974.35,\"humidity\":86,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":2},\"wind\":{\"speed\":1.82,\"deg\":219.314},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-08 03:00:00\"},{\"dt\":1559973600,\"main\":{\"temp\":293.934,\"temp_min\":293.934,\"temp_max\":293.934,\"pressure\":1020.08,\"sea_level\":1020.08,\"grnd_level\":975.05,\"humidity\":69,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":6},\"wind\":{\"speed\":0.58,\"deg\":244.185},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-08 06:00:00\"},{\"dt\":1559984400,\"main\":{\"temp\":298.664,\"temp_min\":298.664,\"temp_max\":298.664,\"pressure\":1019.73,\"sea_level\":1019.73,\"grnd_level\":974.78,\"humidity\":59,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":3},\"wind\":{\"speed\":0.97,\"deg\":336.483},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-08 09:00:00\"},{\"dt\":1559995200,\"main\":{\"temp\":300.434,\"temp_min\":300.434,\"temp_max\":300.434,\"pressure\":1019.4,\"sea_level\":1019.4,\"grnd_level\":974.22,\"humidity\":49,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":1},\"wind\":{\"speed\":1.68,\"deg\":350.526},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-08 12:00:00\"},{\"dt\":1560006000,\"main\":{\"temp\":300.5,\"temp_min\":300.5,\"temp_max\":300.5,\"pressure\":1018.91,\"sea_level\":1018.91,\"grnd_level\":973.63,\"humidity\":47,\"temp_kf\":0},\"weather\":[{\"id\":800,\"main\":\"Clear\",\"description\":\"clear sky\",\"icon\":\"01d\"}],\"clouds\":{\"all\":2},\"wind\":{\"speed\":1.45,\"deg\":283.625},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-08 15:00:00\"},{\"dt\":1560016800,\"main\":{\"temp\":294.416,\"temp_min\":294.416,\"temp_max\":294.416,\"pressure\":1019.45,\"sea_level\":1019.45,\"grnd_level\":974.39,\"humidity\":73,\"temp_kf\":0},\"weather\":[{\"id\":802,\"main\":\"Clouds\",\"description\":\"scattered clouds\",\"icon\":\"03d\"}],\"clouds\":{\"all\":36},\"wind\":{\"speed\":1.39,\"deg\":33.827},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-08 18:00:00\"},{\"dt\":1560027600,\"main\":{\"temp\":292.309,\"temp_min\":292.309,\"temp_max\":292.309,\"pressure\":1020.45,\"sea_level\":1020.45,\"grnd_level\":975.44,\"humidity\":79,\"temp_kf\":0},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":100},\"wind\":{\"speed\":2.13,\"deg\":204.807},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2019-06-08 21:00:00\"},{\"dt\":1560038400,\"main\":{\"temp\":290.198,\"temp_min\":290.198,\"temp_max\":290.198,\"pressure\":1020.7,\"sea_level\":1020.7,\"grnd_level\":975.33,\"humidity\":85,\"temp_kf\":0},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":99},\"wind\":{\"speed\":2.21,\"deg\":217.046},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2019-06-09 00:00:00\"},{\"dt\":1560049200,\"main\":{\"temp\":289.3,\"temp_min\":289.3,\"temp_max\":289.3,\"pressure\":1020.74,\"sea_level\":1020.74,\"grnd_level\":975.42,\"humidity\":87,\"temp_kf\":0},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":98},\"wind\":{\"speed\":2.02,\"deg\":206.12},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-09 03:00:00\"},{\"dt\":1560060000,\"main\":{\"temp\":295.08,\"temp_min\":295.08,\"temp_max\":295.08,\"pressure\":1020.81,\"sea_level\":1020.81,\"grnd_level\":975.6,\"humidity\":69,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":84},\"wind\":{\"speed\":0.68,\"deg\":206.34},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-09 06:00:00\"},{\"dt\":1560070800,\"main\":{\"temp\":298.995,\"temp_min\":298.995,\"temp_max\":298.995,\"pressure\":1019.85,\"sea_level\":1019.85,\"grnd_level\":974.48,\"humidity\":59,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"clouds\":{\"all\":19},\"wind\":{\"speed\":1.2,\"deg\":55.102},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-09 09:00:00\"},{\"dt\":1560081600,\"main\":{\"temp\":301.1,\"temp_min\":301.1,\"temp_max\":301.1,\"pressure\":1018.68,\"sea_level\":1018.68,\"grnd_level\":972.99,\"humidity\":50,\"temp_kf\":0},\"weather\":[{\"id\":801,\"main\":\"Clouds\",\"description\":\"few clouds\",\"icon\":\"02d\"}],\"clouds\":{\"all\":22},\"wind\":{\"speed\":1.61,\"deg\":55.561},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-09 12:00:00\"},{\"dt\":1560092400,\"main\":{\"temp\":300.317,\"temp_min\":300.317,\"temp_max\":300.317,\"pressure\":1017.8,\"sea_level\":1017.8,\"grnd_level\":972.1,\"humidity\":52,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":64},\"wind\":{\"speed\":1.54,\"deg\":42.967},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-09 15:00:00\"},{\"dt\":1560103200,\"main\":{\"temp\":294.976,\"temp_min\":294.976,\"temp_max\":294.976,\"pressure\":1017.8,\"sea_level\":1017.8,\"grnd_level\":972.09,\"humidity\":76,\"temp_kf\":0},\"weather\":[{\"id\":803,\"main\":\"Clouds\",\"description\":\"broken clouds\",\"icon\":\"04d\"}],\"clouds\":{\"all\":83},\"wind\":{\"speed\":1.1,\"deg\":74.34},\"sys\":{\"pod\":\"d\"},\"dt_txt\":\"2019-06-09 18:00:00\"},{\"dt\":1560114000,\"main\":{\"temp\":292.461,\"temp_min\":292.461,\"temp_max\":292.461,\"pressure\":1018.21,\"sea_level\":1018.21,\"grnd_level\":972.44,\"humidity\":83,\"temp_kf\":0},\"weather\":[{\"id\":804,\"main\":\"Clouds\",\"description\":\"overcast clouds\",\"icon\":\"04n\"}],\"clouds\":{\"all\":100},\"wind\":{\"speed\":1.53,\"deg\":212.497},\"sys\":{\"pod\":\"n\"},\"dt_txt\":\"2019-06-09 21:00:00\"}],\"city\":{\"id\":667268,\"name\":\"Sibiu\",\"coord\":{\"lat\":45.794,\"lon\":24.1555},\"country\":\"RO\",\"population\":151894,\"timezone\":10800}}";

        public static readonly DependencyProperty WeatherProperty = DependencyProperty.Register(
            "Weather", typeof(WeatherDay), typeof(MainWindow));

        public static readonly DependencyProperty WeatherInfoProperty = DependencyProperty.Register(
            "WeatherInfo", typeof(WeatherInfo), typeof(MainWindow));

        public WeatherDay Weather
        {
            get { return (WeatherDay)GetValue(WeatherProperty); }
            set { SetValue(WeatherProperty, value); }
        }

        public WeatherInfo WeatherInfo
        {
            get { return (WeatherInfo)GetValue(WeatherInfoProperty); }
            set { SetValue(WeatherInfoProperty, value); }
        }

        public MainWindow()
        {
            var provider = new OpenWeatherMapProvider();

            Weather = provider.ParseCurrentWeather(weatherJsonString);
            var forecast = provider.ParseForecast(forecastJsonString);

            WeatherInfo = new WeatherInfo()
            {
                Current = Weather,
                Forecast = forecast
            };

            InitializeComponent();
        }
    }
}
